% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/pca.R
\name{.add_plot_axis}
\alias{.add_plot_axis}
\title{Insert a subplot along a main plot edge}
\usage{
.add_plot_axis(
  main_plot,
  sub_plot,
  position = c("top", "bottom", "right", "left"),
  size = grid::unit(0.25, "null")
)
}
\arguments{
\item{main_plot}{A ggplot or gtable The plot to which the subplot
will be attached.}

\item{sub_plot}{A ggplot, gtable or grob to insert
along the selected edge (e.g., a marginal density plot).}

\item{position}{Edge to attach the subplot to. One of \code{"top"}, \code{"bottom"},
\code{"right"}, or \code{"left"}.}

\item{size}{A \code{grid::unit} giving the thickness of the inserted band
(height for top/bottom, width for right/left). If a numeric is supplied,
it is interpreted in centimeters (i.e., \code{grid::unit(size, "cm")}).}
}
\value{
A gtable object. Draw with \code{grid::grid.draw()} (or print in an
interactive device). The result is no longer a ggplot object.
}
\description{
Attach a small subplot (e.g., a marginal density / histogram or any grob)
to one edge of a main plot. Works for faceted ggplots as well— the subplot
spans the full panel area across facets.
This helper converts inputs as needed:
}
\details{
\itemize{
\item \code{main_plot}: must be a ggplot or gtable (used to locate the panel region).
\item \code{sub_plot}: may be a ggplot, gtable or grob. Grobs are
wrapped into a 1×1 gtable cell.
\item Axis labels/ticks of the \code{sub_plot} are not removed automatically. If you
want a “pure shape” marginal, style \code{sub_plot} with \code{theme_void()} and
\code{plot.margin = margin(0,0,0,0)}, and match \verb{scale_*_continuous(limits=..., expand=...)}
to the main plot so the shapes align tightly.
\item When \code{position} is \code{"top"}/\code{"bottom"}, \code{size} controls the added row height;
for \code{"right"}/\code{"left"}, it controls the added column width. Use absolute units
like \code{"mm"}/\code{"cm"} for fixed thickness, or \code{"null"} to use relative layout space.
\item Because the return type is a \strong{gtable}, you cannot add further ggplot layers
with \code{+}. Apply all ggplot styling before calling this function.
}
}
