% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/stack.R
\name{stack_plots_with_legend}
\alias{stack_plots_with_legend}
\alias{hstack_plots_with_legend}
\alias{vstack_plots_with_legend}
\title{Stack/arrange two plots with a shared legend}
\usage{
hstack_plots_with_legend(
  plot1,
  plot2,
  legend,
  widths = c(4.25, 4.25, 1.5),
  x_axis = TRUE,
  y_axis = TRUE,
  title = NULL,
  subtitle = NULL,
  caption = NULL
)

vstack_plots_with_legend(
  plot1,
  plot2,
  legend,
  heights = c(5, 5),
  widths = c(8.5, 1.5),
  x_axis = TRUE,
  y_axis = TRUE,
  title = NULL,
  subtitle = NULL,
  caption = NULL
)
}
\arguments{
\item{plot1, plot2}{Two ggplot objects to combine. The legend is taken from \code{plot1}
unless explicitly provided via \code{legend}.}

\item{legend}{Optional legend gtable. If missing, it is extracted automatically
from \code{plot1}.}

\item{widths}{Numeric vector of relative widths for horizontal layout
(default \code{c(4.25, 4.25, 1.5)} for \code{hstack_plots_with_legend()}).}

\item{x_axis, y_axis}{Logical; if \code{FALSE}, hide x- or y-axis text/ticks for
both plots (useful for compact arrangements).}

\item{title, subtitle, caption}{Optional plot annotations.
\itemize{
\item \code{title} and \code{subtitle} are applied to \code{plot1}, with blank text in \code{plot2}
to avoid duplication.
\item \code{caption} is applied only to \code{plot2} (not to \code{plot1}).
If the title is too long, use \code{\link[=add_title]{add_title()}} instead. This helper is
\strong{only for titles}; there are no equivalent functions for \code{subtitle}
or \code{caption}, so overly long text in those fields should be avoided.
}}

\item{heights}{Numeric vector of relative heights for vertical layout
(default \code{c(5, 5)} for \code{vstack_plots_with_legend()}).}
}
\value{
A ggplot object containing the combined plots and shared legend.
}
\description{
Combine two ggplot objects into a single layout \strong{including a shared legend}.
\itemize{
\item \code{hstack_plots_with_legend()} arranges the plots side by side with the legend
placed to the right.
\item \code{vstack_plots_with_legend()} arranges the plots vertically with the legend
also placed to the right.
}
}
\details{
By default, the legend is automatically extracted from the first plot (\code{plot1}).
A custom legend object (gtable) may also be supplied via the \code{legend} argument.
Axis texts/ticks can optionally be hidden to reduce redundancy.
}
\examples{
\donttest{
p1 <- ggbox(iris, x = Species, y = Sepal.Length, fill = Species) +
  theme_view()
p2 <- ggdensity(iris, x = Sepal.Length, fill = Species) +
  theme_view()

# Horizontal arrangement with shared legend
hstack_plots_with_legend(p1, p2, widths = c(4.25, 4.25, 1.5))

# Vertical arrangement with shared legend
vstack_plots_with_legend(p1, p2, heights = c(5, 5), widths = c(8.5, 1.5),
                         y_axis = FALSE)
}

}
\seealso{
\code{\link[=add_title]{add_title()}}
}
