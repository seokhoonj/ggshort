% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/density.R
\name{density_plot}
\alias{density_plot}
\title{Density plot}
\usage{
density_plot(
  data,
  x_var,
  color_var,
  probs = 0.95,
  na.rm = TRUE,
  y = Inf,
  show_mean = FALSE,
  show_median = FALSE,
  show_label = TRUE,
  label_args = list(family = getOption("ggshort.font"), size = 4, angle = 90, hjust = 2,
    vjust = 0.5, color = "black"),
  palette = "Set1",
  title = NULL,
  subtitle = NULL,
  caption = NULL,
  theme = c("view", "save", "shiny"),
  ...
)
}
\arguments{
\item{data}{A data.frame containing the variables to plot.}

\item{x_var}{Column to use for the x-axis density variable. May be
either a column name (character string) or a single column index (integer).}

\item{color_var}{Optional column for grouping/coloring densities. May be
either a column name (character string) or a single column index (integer).
If supplied, it must exist in \code{data}.}

\item{probs}{Numeric vector of probabilities in [0, 1] for quantile guides
(used when \code{show_label = TRUE}). Default \code{0.95}.}

\item{na.rm}{Logical; remove missing values silently if \code{TRUE}. Default \code{TRUE}.}

\item{y}{Numeric y position for quantile labels. Default \code{Inf} (top of panel).}

\item{show_mean}{Logical; if \code{TRUE}, add vertical mean line(s).
Default \code{FALSE}.}

\item{show_median}{Logical; if \code{TRUE}, add vertical median line(s).
Default \code{FALSE}.}

\item{show_label}{Logical; if \code{TRUE}, add quantile label(s) at \code{probs}.
Default \code{TRUE}.}

\item{label_args}{A named list of text styling options for quantile labels
(\code{geom_text()}): \code{family}, \code{size}, \code{angle}, \code{hjust}, \code{vjust}, \code{color}.
Default:
\code{list(family = getOption("ggshort.font"), size = 4, angle = 90, hjust = 2, vjust = 0.5, color = "black")}.}

\item{palette}{Discrete palette name for categorical \code{color_var}, forwarded to
\code{\link[ggplot2:scale_brewer]{ggplot2::scale_color_brewer()}} and \code{\link[ggplot2:scale_brewer]{ggplot2::scale_fill_brewer()}}.
Default \code{"Set1"}. Ignored when \code{color_var} is numeric.
See \code{\link[RColorBrewer:ColorBrewer]{RColorBrewer::display.brewer.all()}} for available palettes.}

\item{title, subtitle, caption}{Plot title, subtitle, and caption. Passed to
\code{\link[ggplot2:labs]{ggplot2::labs()}}.}

\item{theme}{A ggshort theme key passed to \code{\link[=switch_theme]{switch_theme()}}: one of
\code{"view"}, \code{"save"}, or \code{"shiny"}.}

\item{...}{Additional arguments forwarded to \code{switch_theme(theme = ...)}.}
}
\value{
A ggplot object.
}
\description{
Draw kernel density curves by group with optional mean/median guides
and quantile labels. Built on top of \code{\link[=ggdensity]{ggdensity()}} with simplified
interface for a single \code{x_var} and grouping/coloring by \code{color_var}.
}
\details{
\itemize{
\item \strong{Variable selection:} Both \code{x_var} and \code{color_var} can be specified by
name (character) or column index (integer). If an integer is given,
it is resolved to the corresponding column name in \code{data}.
\item \strong{Coloring logic:} If \code{color_var} is categorical (factor/character/logical),
a discrete Brewer palette (\code{palette}) is applied. If numeric, a continuous
gradient (blue -> red) is used, and \code{show_mean}/\code{show_median} apply but
quantile labels remain available.
}
}
\examples{
\donttest{
# Basic density by species with quantile labels
density_plot(iris, x_var = "Sepal.Length", color_var = "Species",
             probs = 0.9, show_label = TRUE)

# Using column indices instead of names
density_plot(iris, x_var = 1, color_var = 5,
             show_mean = TRUE, show_median = TRUE)
}

}
\seealso{
\code{\link[=ggdensity]{ggdensity()}}, \code{\link[=stat_density_quantile_vline]{stat_density_quantile_vline()}},
\code{\link[=stat_density_quantile_text]{stat_density_quantile_text()}},
}
